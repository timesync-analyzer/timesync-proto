syntax = "proto3";

import "google/protobuf/timestamp.proto";

message Ptp4lMetrics {
    string node = 1;

    google.protobuf.Timestamp timestamp = 2;

    int64 offset_ns = 3;
    int64 frequency = 4;
    int64 path_delay = 5;
    int32 state = 6;
};

message Phc2SysMetrics {
    string node = 1;

    google.protobuf.Timestamp timestamp = 2;

    int64 offset_ns = 3;
    int64 frequency = 4;
    int64 path_delay = 5;
    int32 state = 6;
};

message NetworkMetrics {
    uint64 rx_packets = 1;
    uint64 tx_packets = 2;
    uint64 rx_dropped = 3;
    uint64 tx_dropped = 4;
    uint64 rx_errors = 5;
    uint64 tx_errors = 6;
    uint64 collisions = 7;
};

message CpuMetrics {
    double usage_percent = 1;
    uint64 context_switches = 2;
    uint64 interrupts = 3;
    uint64 softirqs = 4;
};

message MemoryMetrics {
    uint64 mem_available_kb = 1;
    uint64 mem_free_kb = 2;
    uint64 swap_total_kb = 3;
    uint64 swap_free_kb = 4;
    uint64 buffers_kb = 5;
};

message TemperatureMetrics {
    message TemperatureMetric {
        string sensor = 1;
        string label = 2;
        int32 temperature = 3;
    };
    repeated TemperatureMetric zones_readings = 1;
};

message SystemMetrics {
    string node = 1;

    google.protobuf.Timestamp timestamp = 2;

    TemperatureMetrics temperatureStats = 3;
    NetworkMetrics networkStats = 4;
    CpuMetrics cpuStats = 5;
    MemoryMetrics memoryStats = 6;
};